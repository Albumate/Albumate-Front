<!DOCTYPE html>
<html>
  <head>
    <title>사진 상세</title>
    <link rel="stylesheet" href="/static/css/style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="photo-body">
    <!-- Sidebar -->
    <div class="photo-sidebar" id="sidebar">
      <div class="sidebar-header">
        <div class="sidebar-title">사용자의 Albumate</div>
        <nav class="sidebar-nav">
          <a href="/home" class="nav-link">홈페이지</a>
          <a href="/invitations" class="nav-link">초대받은 앨범</a>
        </nav>
      </div>

      <div class="sidebar-albums">
        <div class="albums-header">내 앨범</div>
        <div class="albums-list" id="albums-list">
          <!-- 앨범 목록이 여기에 동적으로 추가됩니다 -->
        </div>
      </div>

      <div class="sidebar-footer">
        <button class="logout-btn" id="logout-btn">
          <svg
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
            <polyline points="16,17 21,12 16,7" />
            <line x1="21" y1="12" x2="9" y2="12" />
          </svg>
          로그아웃
        </button>
      </div>
    </div>

    <!-- Main Content -->
    <div class="photo-main" id="photo-main">
      <!-- Top Bar -->
      <div class="photo-top-bar" id="photo-top-bar">
        <div class="top-bar-left">
          <a href="#" class="back-link" id="back-link">
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <polyline points="15,18 9,12 15,6" />
            </svg>
            <span id="album-title">앨범 제목</span>
          </a>
        </div>
        <div class="top-bar-right">
          <div class="photo-meta">
            <span id="photo-date">2024-01-20 14:30</span>
            <span id="uploader-info">업로드: 사용자</span>
          </div>
          <button
            class="delete-photo-btn"
            id="delete-btn"
            style="display: none"
          >
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <polyline points="3,6 5,6 21,6" />
              <path
                d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"
              />
              <line x1="10" y1="11" x2="10" y2="17" />
              <line x1="14" y1="11" x2="14" y2="17" />
            </svg>
            사진 삭제
          </button>
        </div>
      </div>

      <!-- Photo Detail Container -->
      <div class="photo-container" id="photo-container">
        <div class="photo-wrapper">
          <img id="photo-img" src="" alt="사진" class="photo-image" />
        </div>

        <!-- Floating Controls -->
        <div class="photo-controls" id="photo-controls">
          <button class="control-btn" id="zoom-out-btn" title="축소">
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <circle cx="11" cy="11" r="8" />
              <path d="M21 21l-4.35-4.35" />
              <line x1="8" y1="11" x2="14" y2="11" />
            </svg>
          </button>
          <span class="zoom-indicator" id="zoom-indicator">100%</span>
          <button class="control-btn" id="zoom-in-btn" title="확대">
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <circle cx="11" cy="11" r="8" />
              <path d="M21 21l-4.35-4.35" />
              <line x1="11" y1="8" x2="11" y2="14" />
              <line x1="8" y1="11" x2="14" y2="11" />
            </svg>
          </button>
          <div class="control-divider"></div>
          <button class="control-btn" id="rotate-btn" title="회전">
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <polyline points="23,4 23,10 17,10" />
              <polyline points="1,20 1,14 7,14" />
              <path
                d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"
              />
            </svg>
          </button>
          <button class="control-btn" id="fullscreen-btn" title="전체화면">
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path
                d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"
              />
            </svg>
          </button>
          <div class="control-divider"></div>
          <button class="control-btn" id="download-btn" title="다운로드">
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
              <polyline points="7,10 12,15 17,10" />
              <line x1="12" y1="15" x2="12" y2="3" />
            </svg>
          </button>
          <button class="control-btn" id="reset-btn" title="초기화">
            Reset
          </button>
        </div>

        <!-- Navigation Arrows -->
        <button
          class="nav-arrow nav-arrow-left"
          id="prev-btn"
          title="이전 사진"
        >
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <polyline points="15,18 9,12 15,6" />
          </svg>
        </button>
        <button
          class="nav-arrow nav-arrow-right"
          id="next-btn"
          title="다음 사진"
        >
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <polyline points="9,18 15,12 9,6" />
          </svg>
        </button>

        <!-- Fullscreen Exit Button -->
        <button
          class="fullscreen-exit-btn"
          id="fullscreen-exit-btn"
          style="display: none"
          title="전체화면 나가기"
        >
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <line x1="18" y1="6" x2="6" y2="18" />
            <line x1="6" y1="6" x2="18" y2="18" />
          </svg>
        </button>
      </div>

      <!-- Keyboard Shortcuts Help -->
      <div
        class="keyboard-shortcuts"
        id="keyboard-shortcuts"
        style="display: none"
      >
        <div class="shortcuts-content">
          <div class="shortcut-item"><kbd>F</kbd> 전체화면</div>
          <div class="shortcut-item"><kbd>+/-</kbd> 확대/축소</div>
          <div class="shortcut-item"><kbd>R</kbd> 회전</div>
          <div class="shortcut-item"><kbd>0</kbd> 초기화</div>
          <div class="shortcut-item"><kbd>ESC</kbd> 나가기</div>
        </div>
      </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal" id="delete-modal">
      <div class="modal-content photo-modal-content">
        <div class="modal-header">
          <h3 class="modal-title danger">
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path
                d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"
              />
              <line x1="12" y1="9" x2="12" y2="13" />
              <line x1="12" y1="17" x2="12.01" y2="17" />
            </svg>
            사진 삭제
          </h3>
        </div>
        <div class="modal-body">
          <p class="danger-text">정말 이 사진을 삭제하시겠습니까?</p>
          <div class="danger-warning">
            <p class="danger-warning-title">⚠️ 경고</p>
            <p class="danger-warning-text">삭제된 사진은 복구할 수 없습니다.</p>
          </div>
        </div>
        <div class="modal-footer">
          <button class="modal-btn secondary" onclick="closeDeleteModal()">
            취소
          </button>
          <button class="modal-btn danger" onclick="confirmDeletePhoto()">
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <polyline points="3,6 5,6 21,6" />
              <path
                d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"
              />
              <line x1="10" y1="11" x2="10" y2="17" />
              <line x1="14" y1="11" x2="14" y2="17" />
            </svg>
            삭제
          </button>
        </div>
      </div>
    </div>

    <script src="/static/js/sidebar.js"></script>
    <script src="/static/js/photo.js"></script>
    <script src="/static/js/config.js"></script>
  </body>
</html>
